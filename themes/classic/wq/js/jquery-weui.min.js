!function(e){"use strict";e.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<a.length;n++)i.off(a[n],t)}var n,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(n=0;n<a.length;n++)i.on(a[n],t);return this},e.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e}(),e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"},e.getTouchPosition=function(e){return e=e.originalEvent||e,"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type?{x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}:{x:e.pageX,y:e.pageY}},e.fn.scrollHeight=function(){return this[0].scrollHeight},e.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},e.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},e.getTranslate=function(e,t){var n,a,i,o;return"undefined"==typeof t&&(t="x"),i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?o=new WebKitCSSMatrix("none"===i.webkitTransform?"":i.webkitTransform):(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(a=window.WebKitCSSMatrix?o.m41:parseFloat(16===n.length?n[12]:n[4])),"y"===t&&(a=window.WebKitCSSMatrix?o.m42:parseFloat(16===n.length?n[13]:n[5])),a||0},e.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},e.fn.join=function(e){return this.toArray().join(e)}}($),+function(e){"use strict";e.Template7=e.t7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function n(e){var t,n,a,i=e.replace(/[{}#}]/g,"").split(" "),o=[];for(n=0;n<i.length;n++){var r=i[n];if(0===n)o.push(r);else if(0===r.indexOf('"'))if(2===r.match(/"/g).length)o.push(r);else{for(t=0,a=n+1;a<i.length;a++)if(r+=" "+i[a],i[a].indexOf('"')>=0){t=a,o.push(r);break}t&&(n=t)}else if(r.indexOf("=")>0){var s=r.split("="),c=s[0],l=s[1];if(2!==l.match(/"/g).length){for(t=0,a=n+1;a<i.length;a++)if(l+=" "+i[a],i[a].indexOf('"')>=0){t=a;break}t&&(n=t)}var p=[c,l.replace(/"/g,"")];o.push(p)}else o.push(r)}return o}function a(t){var a,i,o=[];if(!t)return[];var r=t.split(/({{[^{^}]*}})/);for(a=0;a<r.length;a++){var s=r[a];if(""!==s)if(s.indexOf("{{")<0)o.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){o.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var c=n(s),l=c[0],p=[],d={};for(i=1;i<c.length;i++){var u=c[i];e(u)?d[u[0]]="false"===u[1]?!1:u[1]:p.push(u)}if(s.indexOf("{#")>=0){var h,f="",m="",v=0,g=!1,w=!1,k=0;for(i=a+1;i<r.length;i++)if(r[i].indexOf("{{#")>=0&&k++,r[i].indexOf("{{/")>=0&&k--,r[i].indexOf("{{#"+l)>=0)f+=r[i],w&&(m+=r[i]),v++;else if(r[i].indexOf("{{/"+l)>=0){if(!(v>0)){h=i,g=!0;break}v--,f+=r[i],w&&(m+=r[i])}else r[i].indexOf("else")>=0&&0===k?w=!0:(w||(f+=r[i]),w&&(m+=r[i]));g&&(h&&(a=h),o.push({type:"helper",helperName:l,contextName:p,content:f,inverseContent:m,hash:d}))}else s.indexOf(" ")>0&&o.push({type:"helper",helperName:l,contextName:p,hash:d})}}return o}var i=function(e){function t(e,t){return e.content?r(e.content,t):function(){return""}}function n(e,t){return e.inverseContent?r(e.inverseContent,t):function(){return""}}function i(e,t){var n,a,i=0;if(0===e.indexOf("../")){i=e.split("../").length-1;var o=t.split("_")[1]-i;t="ctx_"+(o>=1?o:1),a=e.split("../")[i].split(".")}else 0===e.indexOf("@global")?(t="$.Template7.global",a=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="ctx_1",a=e.split("@root.")[1].split(".")):a=e.split(".");n=t;for(var r=0;r<a.length;r++){var s=a[r];0===s.indexOf("@")?r>0?n+="[(data && data."+s.replace("@","")+")]":n="(data && data."+e.replace("@","")+")":isFinite(s)?n+="["+s+"]":0===s.indexOf("this")?n=s.replace("this",t):n+="."+s}return n}function o(e,t){for(var n=[],a=0;a<e.length;a++)n.push(0===e[a].indexOf('"')?e[a]:i(e[a],t));return n.join(", ")}function r(e,r){if(r=r||1,e=e||s.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var c=a(e);if(0===c.length)return function(){return""};var l="ctx_"+r,p="(function ("+l+", data) {\n";1===r&&(p+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",p+="function isFunction(func){return (typeof func === 'function');}\n",p+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),p+="var r = '';\n";var d;for(d=0;d<c.length;d++){var u=c[d];if("plain"!==u.type){var h,f;if("variable"===u.type&&(h=i(u.contextName,l),p+="r += c("+h+", "+l+");"),"helper"===u.type)if(u.helperName in s.helpers)f=o(u.contextName,l),p+="r += ($.Template7.helpers."+u.helperName+").call("+l+", "+(f&&f+", ")+"{hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,r+1)+", inverse: "+n(u,r+1)+", root: ctx_1});";else{if(u.contextName.length>0)throw new Error('Template7: Missing helper: "'+u.helperName+'"');h=i(u.helperName,l),p+="if ("+h+") {",p+="if (isArray("+h+")) {",p+="r += ($.Template7.helpers.each).call("+l+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,r+1)+", inverse: "+n(u,r+1)+", root: ctx_1});",p+="}else {",p+="r += ($.Template7.helpers.with).call("+l+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,r+1)+", inverse: "+n(u,r+1)+", root: ctx_1});",p+="}}"}}else p+="r +='"+u.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return p+="\nreturn r;})",eval.call(window,p)}var s=this;s.template=e,s.compile=function(e){return s.compiled||(s.compiled=r(e)),s.compiled}};i.prototype={options:{},helpers:{"if":function(e,n){return t(e)&&(e=e.call(this)),e?n.fn(this,n.data):n.inverse(this,n.data)},unless:function(e,n){return t(e)&&(e=e.call(this)),e?n.inverse(this,n.data):n.fn(this,n.data)},each:function(n,a){var i="",o=0;if(t(n)&&(n=n.call(this)),e(n)){for(a.hash.reverse&&(n=n.reverse()),o=0;o<n.length;o++)i+=a.fn(n[o],{first:0===o,last:o===n.length-1,index:o});a.hash.reverse&&(n=n.reverse())}else for(var r in n)o++,i+=a.fn(n[r],{key:r});return o>0?i:a.inverse(this)},"with":function(e,n){return t(e)&&(e=e.call(this)),n.fn(e)},join:function(e,n){return t(e)&&(e=e.call(this)),e.join(n.hash.delimiter||n.hash.delimeter)},js:function(e){var t;return t=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,t).call(this)},js_compare:function(e,t){var n;n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})";var a=eval.call(this,n).call(this);return a?t.fn(this,t.data):t.inverse(this,t.data)}}};var o=function(e,t){if(2===arguments.length){var n=new i(e),a=n.compile()(t);return n=null,a}return new i(e)};return o.registerHelper=function(e,t){i.prototype.helpers[e]=t},o.unregisterHelper=function(e){i.prototype.helpers[e]=void 0,delete i.prototype.helpers[e]},o.compile=function(e,t){var n=new i(e,t);return n.compile()},o.options=i.prototype.options,o.helpers=i.prototype.helpers,o}()}($),+function(e){"use strict";var t;e.modal=function(n){n=e.extend({},t,n);var a=n.buttons,i=a.map(function(e){return'<a href="javascript:;" class="weui_btn_dialog '+(e.className||"")+'">'+e.text+"</a>"}).join(""),o='<div class="weui_dialog"><div class="weui_dialog_hd"><strong class="weui_dialog_title">'+n.title+"</strong></div>"+(n.text?'<div class="weui_dialog_bd">'+n.text+"</div>":"")+'<div class="weui_dialog_ft">'+i+"</div></div>",r=e.openModal(o);r.find(".weui_btn_dialog").each(function(t,i){var o=e(i);o.click(function(){n.autoClose&&e.closeModal(),a[t].onClick&&a[t].onClick()})})},e.openModal=function(t){var n=e("<div class='weui_mask'></div>").appendTo(document.body);n.show();var a=e(t).appendTo(document.body);return a.show(),n.addClass("weui_mask_visible"),a.addClass("weui_dialog_visible"),a},e.closeModal=function(){e(".weui_mask_visible").removeClass("weui_mask_visible").transitionEnd(function(){e(this).remove()}),e(".weui_dialog_visible").removeClass("weui_dialog_visible").transitionEnd(function(){e(this).remove()})},e.alert=function(n,a,i){return"function"==typeof a&&(i=arguments[1],a=void 0),e.modal({text:n,title:a,buttons:[{text:t.buttonOK,className:"primary",onClick:i}]})},e.confirm=function(n,a,i,o){return"function"==typeof a&&(o=arguments[2],i=arguments[1],a=void 0),e.modal({text:n,title:a,buttons:[{text:t.buttonCancel,className:"default",onClick:o},{text:t.buttonOK,className:"primary",onClick:i}]})},e.prompt=function(n,a,i,o){return"function"==typeof a&&(o=arguments[2],i=arguments[1],a=void 0),e.modal({text:"<p class='weui-prompt-text'>"+(n||"")+"</p><input type='text' class='weui_input weui-prompt-input' id='weui-prompt-input'/>",title:a,buttons:[{text:t.buttonCancel,className:"default",onClick:o},{text:t.buttonOK,className:"primary",onClick:function(){i&&i(e("#weui-prompt-input").val())}}]})},t=e.modal.prototype.defaults={title:"提示",text:void 0,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0}}($),+function(e){"use strict";var t=function(t,n){n=n||"";var a=(e("<div class='weui_mask_transparent'></div>").appendTo(document.body),'<div class="weui_toast '+n+'">'+t+"</div>"),i=e(a).appendTo(document.body);i.show(),i.addClass("weui_toast_visible")},n=function(){e(".weui_mask_transparent").hide(),e(".weui_toast_visible").removeClass("weui_toast_visible").transitionEnd(function(){e(this).remove()})};e.toast=function(e,i){var o;"cancel"==i?o="weui_toast_cancel":"forbidden"==i&&(o="weui_toast_forbidden"),t('<i class="weui_icon_toast"></i><p class="weui_toast_content">'+(e||"已经完成")+"</p>",o),setTimeout(function(){n()},a.duration)},e.showLoading=function(e){for(var n='<div class="weui_loading">',a=0;12>a;a++)n+='<div class="weui_loading_leaf weui_loading_leaf_'+a+'"></div>';n+="</div>",n+='<p class="weui_toast_content">'+(e||"数据加载中")+"</p>",t(n,"weui_loading_toast")},e.hideLoading=function(){n()};var a=e.toast.prototype.defaults={duration:2e3}}($),+function(e){"use strict";var t,n=function(t){var n=e("<div class='weui_mask weui_actions_mask'></div>").appendTo(document.body),a=t.actions||[],i=a.map(function(e){return'<div class="weui_actionsheet_cell '+(e.className||"")+'">'+e.text+"</div>"}).join(""),o='<div class="weui_actionsheet " id="weui_actionsheet"><div class="weui_actionsheet_menu">'+i+'</div><div class="weui_actionsheet_action"><div class="weui_actionsheet_cell weui_actionsheet_cancel">取消</div></div></div>',r=e(o).appendTo(document.body);r.find(".weui_actionsheet_menu .weui_actionsheet_cell, .weui_actionsheet_action .weui_actionsheet_cell").each(function(n,i){e(i).click(function(){e.closeActions(),t.onClose&&t.onClose(),a[n]&&a[n].onClick&&a[n].onClick()})}),n.show(),r.show(),n.addClass("weui_mask_visible"),r.addClass("weui_actionsheet_toggle")},a=function(){e(".weui_mask").removeClass("weui_mask_visible").transitionEnd(function(){e(this).remove()}),e(".weui_actionsheet").removeClass("weui_actionsheet_toggle").transitionEnd(function(){e(this).remove()})};e.actions=function(a){a=e.extend({},t,a),n(a)},e.closeActions=function(){a()},e(document).on("click",".weui_actions_mask",function(){e.closeActions()});var t=e.actions.prototype.defaults={onClose:void 0}}($),+function(e){"use strict";var t=function(t){this.container=e(t),this.distance=50,this.attachEvents()};t.prototype.touchStart=function(t){if(!this.container.hasClass("refreshing")){var n=e.getTouchPosition(t);this.start=n,this.diffX=this.diffY=0}},t.prototype.touchMove=function(t){if(!this.container.hasClass("refreshing")){if(!this.start)return!1;if(!(this.container.scrollTop()>0)){var n=e.getTouchPosition(t);this.diffX=n.x-this.start.x,this.diffY=n.y-this.start.y,this.diffY<0||(this.container.addClass("touching"),t.preventDefault(),t.stopPropagation(),this.diffY=Math.pow(this.diffY,.8),this.container.css("transform","translate3d(0, "+this.diffY+"px, 0)"),this.diffY<this.distance?this.container.removeClass("pull-up").addClass("pull-down"):this.container.removeClass("pull-down").addClass("pull-up"))}}},t.prototype.touchEnd=function(){this.start=!1,this.diffY<=0||this.container.hasClass("refreshing")||(this.container.removeClass("touching"),this.container.removeClass("pull-down pull-up"),this.container.css("transform",""),Math.abs(this.diffY)<=this.distance||(this.container.addClass("refreshing"),this.container.trigger("pull-to-refresh")))},t.prototype.attachEvents=function(){var t=this.container;t.addClass("weui-pull-to-refresh"),t.on(e.touchEvents.start,e.proxy(this.touchStart,this)),t.on(e.touchEvents.move,e.proxy(this.touchMove,this)),t.on(e.touchEvents.end,e.proxy(this.touchEnd,this))};var n=function(e){new t(e)},a=function(t){e(t).removeClass("refreshing")};e.fn.pullToRefresh=function(){return this.each(function(){n(this)})},e.fn.pullToRefreshDone=function(){return this.each(function(){a(this)})}}($),+function(e){"use strict";var t=function(t,n){this.container=e(t),this.container.data("infinite",this),this.distance=n||50,this.attachEvents()};t.prototype.scroll=function(){var t=this.container,n=t.scrollHeight()-(e(window).height()+t.scrollTop());n<=this.distance&&t.trigger("infinite")},t.prototype.attachEvents=function(t){var n=this.container,a="BODY"===n[0].tagName.toUpperCase()?e(document):n;a[t?"off":"on"]("scroll",e.proxy(this.scroll,this))},t.prototype.detachEvents=function(){this.attachEvents(!0)};e.fn.infinite=function(e){return this.each(function(){new t(this,e)})},e.fn.destroyInfinite=function(){return this.each(function(){var t=e(this).data("infinite");t&&t.detachEvents&&t.detachEvents()})}}($),+function(e){"use strict";var t="weui_bar_item_on",n=function(n){var a=e(n);if(!a.hasClass(t)){var i=a.attr("href");if(/^#/.test(i)){a.parent().find("."+t).removeClass(t),a.addClass(t);var o=a.parents(".weui_tab").find(".weui_tab_bd");o.find(".weui_tab_bd_item_active").removeClass("weui_tab_bd_item_active"),e(i).addClass("weui_tab_bd_item_active")}}};e.showTab=n,e(document).on("click",".weui_tabbar_item, .weui_navbar_item",function(a){var i=e(a.currentTarget),o=i.attr("href");i.hasClass(t)||/^#/.test(o)&&(a.preventDefault(),n(i))})}($),+function(e){"use strict";e(document).on("click",".weui_search_bar label",function(t){e(t.target).parents(".weui_search_bar").addClass("weui_search_focusing")}).on("blur",".weui_search_input",function(t){var n=e(t.target);n.val()||n.parents(".weui_search_bar").removeClass("weui_search_focusing")}).on("click",".weui_search_cancel",function(t){e(t.target).parents(".weui_search_bar").find(".weui_search_input").val("").blur()}).on("click",".weui_icon_clear",function(t){e(t.target).parents(".weui_search_bar").find(".weui_search_input").val("").focus()})}($),function(e){"use strict";var t={},n=navigator.userAgent,a=n.match(/(Android);?[\s\/]+([\d.]+)?/),i=n.match(/(iPad).*OS\s([\d_]+)/),o=n.match(/(iPod)(.*OS\s([\d_]+))?/),r=!i&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,a&&(t.os="android",t.osVersion=a[2],t.android=!0,t.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(i||r||o)&&(t.os="ios",t.ios=!0),r&&!o&&(t.osVersion=r[2].replace(/_/g,"."),t.iphone=!0),i&&(t.osVersion=i[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&n.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(r||i||o)&&n.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var s=t.osVersion.split(".");t.minimalUi=!t.webView&&(o||r)&&(1*s[0]===7?1*s[1]>=1:1*s[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=e(window).width(),l=e(window).height();t.statusBar=!1,t.statusBar=t.webView&&c*l===screen.width*screen.height?!0:!1;var p=[];if(t.pixelRatio=window.devicePixelRatio||1,p.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&p.push("retina"),t.os&&(p.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var d=parseInt(t.osVersion.split(".")[0],10),u=d-1;u>=6;u--)p.push("ios-gt-"+u);t.statusBar?p.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),p.length>0&&e("html").addClass(p.join(" ")),e.device=t}($),+function(e){"use strict";var t=function(t){function n(){var t=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?t=!0:e.device.ios?t=e.device.ipad?!0:!1:e(window).width()>=768&&(t=!0)),t):t}function a(){return c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0?!0:!1}function i(){if(c.opened)for(var e=0;e<c.cols.length;e++)c.cols[e].divider||(c.cols[e].calcSize(),c.cols[e].setValue(c.cols[e].value,0,!1))}function o(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!n())){var t=c.input.parents(".content");if(0===t.length)return;var a,i=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-i-c.container.height(),s=t[0].scrollHeight-i-c.container.height(),l=c.input.offset().top-i+c.input[0].offsetHeight;if(l>r){var p=t.scrollTop()+l-r;p+r>s&&(a=p+r-s+o,r===s&&(a=c.container.height()),t.css({"padding-bottom":a+"px"})),t.scrollTop(p,300)}}}function r(t){a()||(c.input&&c.input.length>0?t.target!==c.input[0]&&0===e(t.target).parents(".weui-picker-modal").length&&c.close():0===e(t.target).parents(".weui-picker-modal").length&&c.close())}function s(){c.opened=!1,c.input&&c.input.length>0&&c.input.parents(".page-content").css({"padding-bottom":""}),c.params.onClose&&c.params.onClose(c),c.container.find(".picker-items-col").each(function(){c.destroyPickerCol(this)})}var c=this,l={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"完成",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>          <h1 class="title">{{title}}</h1>          </div>          </div>'};t=t||{};for(var p in l)"undefined"==typeof t[p]&&(t[p]=l[p]);c.params=t,c.cols=[],c.initialized=!1,c.inline=c.params.container?!0:!1;var d=e.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!e.device.android;return c.setValue=function(e,t){for(var n=0,a=0;a<c.cols.length;a++)c.cols[a]&&!c.cols[a].divider&&(c.cols[a].setValue(e[n],t),n++)},c.updateValue=function(){for(var t=[],n=[],a=0;a<c.cols.length;a++)c.cols[a].divider||(t.push(c.cols[a].value),n.push(c.cols[a].displayValue));t.indexOf(void 0)>=0||(c.value=t,c.displayValue=n,c.params.onChange&&c.params.onChange(c,c.value,c.displayValue),c.input&&c.input.length>0&&(e(c.input).val(c.params.formatValue?c.params.formatValue(c,c.value,c.displayValue):c.value.join(" ")),e(c.input).trigger("change")))},c.initPickerCol=function(t,n){function a(){w=e.requestAnimationFrame(function(){u.updateItems(void 0,void 0,0),a()})}function i(t){if(!y&&!k){t.preventDefault(),k=!0;var n=e.getTouchPosition(t);x=C=n.y,T=(new Date).getTime(),P=!0,b=D=e.getTranslate(u.wrapper[0],"y")}}function o(t){if(k){t.preventDefault(),P=!1;var n=e.getTouchPosition(t);C=n.y,y||(e.cancelAnimationFrame(w),y=!0,b=D=e.getTranslate(u.wrapper[0],"y"),u.wrapper.transition(0)),t.preventDefault();var a=C-x;D=b+a,M=void 0,v>D&&(D=v-Math.pow(v-D,.8),M="min"),D>g&&(D=g+Math.pow(D-g,.8),M="max"),u.wrapper.transform("translate3d(0,"+D+"px,0)"),u.updateItems(void 0,D,0,c.params.updateValuesOnTouchmove),H=D-E||D,O=(new Date).getTime(),E=D}}function r(){if(!k||!y)return void(k=y=!1);k=y=!1,u.wrapper.transition(""),M&&u.wrapper.transform("min"===M?"translate3d(0,"+v+"px,0)":"translate3d(0,"+g+"px,0)"),_=(new Date).getTime();var t,n;_-T>300?n=D:(t=Math.abs(H/(_-O)),n=D+H*c.params.momentumRatio),n=Math.max(Math.min(n,g),v);var i=-Math.floor((n-g)/f);c.params.freeMode||(n=-i*f+g),u.wrapper.transform("translate3d(0,"+parseInt(n,10)+"px,0)"),u.updateItems(i,n,"",!0),c.params.updateValuesOnMomentum&&(a(),u.wrapper.transitionEnd(function(){e.cancelAnimationFrame(w)})),setTimeout(function(){P=!0},100)}function s(){if(P){e.cancelAnimationFrame(w);var t=e(this).attr("data-picker-value");u.setValue(t)}}var l=e(t),p=l.index(),u=c.cols[p];if(!u.divider){u.container=l,u.wrapper=u.container.find(".picker-items-col-wrapper"),u.items=u.wrapper.find(".picker-item");var h,f,m,v,g;u.replaceValues=function(e,t){u.destroyEvents(),u.values=e,u.displayValues=t;var n=c.columnHTML(u,!0);u.wrapper.html(n),u.items=u.wrapper.find(".picker-item"),u.calcSize(),u.setValue(u.values[0],0,!0),u.initEvents()},u.calcSize=function(){c.params.rotateEffect&&(u.container.removeClass("picker-items-col-absolute"),u.width||u.container.css({width:""}));var t,n;t=0,n=u.container[0].offsetHeight,h=u.wrapper[0].offsetHeight,f=u.items[0].offsetHeight,m=f*u.items.length,v=n/2-m+f/2,g=n/2-f/2,u.width&&(t=u.width,parseInt(t,10)===t&&(t+="px"),u.container.css({width:t})),c.params.rotateEffect&&(u.width||(u.items.each(function(){var n=e(this);n.css({width:"auto"}),t=Math.max(t,n[0].offsetWidth),n.css({width:""})}),u.container.css({width:t+2+"px"})),u.container.addClass("picker-items-col-absolute"))},u.calcSize(),u.wrapper.transform("translate3d(0,"+g+"px,0)").transition(0);var w;u.setValue=function(t,n,i){"undefined"==typeof n&&(n="");var o=u.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if("undefined"!=typeof o&&-1!==o){var r=-o*f+g;u.wrapper.transition(n),u.wrapper.transform("translate3d(0,"+r+"px,0)"),c.params.updateValuesOnMomentum&&u.activeIndex&&u.activeIndex!==o&&(e.cancelAnimationFrame(w),u.wrapper.transitionEnd(function(){e.cancelAnimationFrame(w)}),a()),u.updateItems(o,r,n,i)}},u.updateItems=function(t,n,a,i){"undefined"==typeof n&&(n=e.getTranslate(u.wrapper[0],"y")),"undefined"==typeof t&&(t=-Math.round((n-g)/f)),0>t&&(t=0),t>=u.items.length&&(t=u.items.length-1);var o=u.activeIndex;u.activeIndex=t,u.wrapper.find(".picker-selected").removeClass("picker-selected"),c.params.rotateEffect&&u.items.transition(a);var r=u.items.eq(t).addClass("picker-selected").transform("");if((i||"undefined"==typeof i)&&(u.value=r.attr("data-picker-value"),u.displayValue=u.displayValues?u.displayValues[t]:u.value,o!==t&&(u.onChange&&u.onChange(c,u.value,u.displayValue),c.updateValue())),c.params.rotateEffect){{(n-(Math.floor((n-g)/f)*f+g))/f}u.items.each(function(){var t=e(this),a=t.index()*f,i=g-n,o=a-i,r=o/f,s=Math.ceil(u.height/f/2)+1,c=-18*r;c>180&&(c=180),-180>c&&(c=-180),Math.abs(r)>s?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-n+g)+"px, "+(d?-110:0)+"px) rotateX("+c+"deg)")})}},n&&u.updateItems(0,g,0);var k,y,x,C,T,_,b,M,D,E,H,O,P=!0;u.initEvents=function(t){var n=t?"off":"on";u.container[n](e.touchEvents.start,i),u.container[n](e.touchEvents.move,o),u.container[n](e.touchEvents.end,r),u.items[n]("click",s)},u.destroyEvents=function(){u.initEvents(!0)},u.container[0].f7DestroyPickerCol=function(){u.destroyEvents()},u.initEvents()}},c.destroyPickerCol=function(t){t=e(t),"f7DestroyPickerCol"in t[0]&&t[0].f7DestroyPickerCol()},e(window).on("resize",i),c.columnHTML=function(e,t){var n="",a="";if(e.divider)a+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var i=0;i<e.values.length;i++)n+='<div class="picker-item" data-picker-value="'+e.values[i]+'">'+(e.displayValues?e.displayValues[i]:e.values[i])+"</div>";a+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return t?n:a},c.layout=function(){var e,t="",n="";c.cols=[];var a="";for(e=0;e<c.params.cols.length;e++){var i=c.params.cols[e];a+=c.columnHTML(c.params.cols[e]),c.cols.push(i)}n="weui-picker-modal picker-columns "+(c.params.cssClass||"")+(c.params.rotateEffect?" picker-3d":""),t='<div class="'+n+'">'+(c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{title}}/g,c.params.title):"")+'<div class="picker-modal-inner picker-items">'+a+'<div class="picker-center-highlight"></div></div></div>',c.pickerHTML=t},c.params.input&&(c.input=e(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",o),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),c.inline||e("html").on("click",r),c.opened=!1,c.open=function(){var t=n();c.opened||(c.layout(),t?(c.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=e.popover(c.pickerHTML,c.params.input,!0),c.container=e(c.popover).find(".weui-picker-modal"),e(c.popover).on("close",function(){s()})):c.inline?(c.container=e(c.pickerHTML),c.container.addClass("picker-modal-inline"),e(c.params.container).append(c.container)):(c.container=e(e.openPicker(c.pickerHTML)),e(c.container).on("close",function(){s()})),c.container[0].f7Picker=c,c.container.find(".picker-items-col").each(function(){var e=!0;(!c.initialized&&c.params.value||c.initialized&&c.value)&&(e=!1),c.initPickerCol(this,e)}),c.initialized?c.value&&c.setValue(c.value,0):c.params.value&&c.setValue(c.params.value,0)),c.opened=!0,c.initialized=!0,c.params.onOpen&&c.params.onOpen(c)},c.close=function(){return c.opened&&!c.inline?a()?void e.closePicker(c.popover):void e.closePicker(c.container):void 0},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&c.input.off("click focus",o),e("html").off("click",r),e(window).off("resize",i)},c.inline&&c.open(),c};e(document).on("click",".close-picker",function(){var t=e(".weui-picker-modal.weui-picker-modal-visible");t.length>0&&e.closePicker(t)}),e(document).on(e.touchEvents.move,".picker-modal-inner",function(e){e.preventDefault()}),e.openPicker=function(t,n,a){"function"==typeof n&&(a=n,n=void 0),e.closePicker();var i=e("<div class='weui-picker-container "+(n||"")+"'></div>").appendTo(document.body);i.show(),i.addClass("weui-picker-container-visible");var o=e(t).appendTo(i);return o.width(),o.addClass("weui-picker-modal-visible"),a&&i.on("close",a),o},e.updatePicker=function(t){var n=e(".weui-picker-container-visible");if(!n[0])return!1;n.html("");var a=e(t).appendTo(n);return a.addClass("weui-picker-modal-visible"),a},e.closePicker=function(t,n){"function"==typeof t&&(n=t),e(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){e(this).parent().remove(),n&&n()}).trigger("close")},e.fn.picker=function(n){var a=arguments;return this.each(function(){if(this){var i=e(this),o=i.data("picker");if(!o){n=n||{};var r=i.val();void 0===n.value&&""!==r&&(n.value=n.cols.length>1?r.split(" "):[r]);var s=e.extend({input:this},n);o=new t(s),i.data("picker",o)}"string"==typeof n&&o[n].apply(o,Array.prototype.slice.call(a,1))}})}}($),+function(e){"use strict";var t,n=function(t,n){this.config=n,this.$input=e(t),this.$input.prop("readOnly",!0),this.initConfig(),n=this.config,this.$input.click(e.proxy(this.open,this))};n.prototype.initConfig=function(){this.config=e.extend({},t,this.config);var n=this.config;n.items&&n.items.length&&(n.items=n.items.map(function(e){return"string"==typeof e?{title:e,value:e}:e}),this.tpl=e.t7.compile("<div class='weui-picker-modal weui-select-modal'>"+n.toolbarTemplate+(n.multi?n.checkboxTemplate:n.radioTemplate)+"</div>"),void 0!==n.input&&this.$input.val(n.input),this.parseInitValue())},n.prototype.updateInputValue=function(e,t){var n,a;this.config.multi?(n=e.join(this.config.split),a=t.join(this.config.split)):(n=e[0],a=t[0]),this.$input.val(a).data("values",n),this.$input.attr("value",a).attr("data-values",n);var i={values:n,titles:a};this.$input.trigger("change",i),this.config.onChange&&this.config.onChange.call(this,i)},n.prototype.parseInitValue=function(){var e=this.$input.val(),t=this.config.items;if(void 0!==e&&null!=e&&""!==e)for(var n=this.config.multi?e.split(this.config.split):[e],a=0;a<t.length;a++){t[a].checked=!1;for(var i=0;i<n.length;i++)t[a].title===n[i]&&(t[a].checked=!0)}},n.prototype.update=function(t){this.config=e.extend({},this.config,t),this.initConfig(),this._open&&e.updatePicker(this.getHTML())},n.prototype.open=function(){if(!this._open){this.parseInitValue();var t=this.config,n=this.dialog=e.openPicker(this.getHTML(),e.proxy(this.onClose,this)),a=this;n.on("change",function(){var i=n.find("input:checked"),o=i.map(function(){return e(this).val()}),r=i.map(function(){return e(this).data("title")});a.updateInputValue(o,r),t.autoClose&&!t.multi&&e.closePicker()}),this._open=!0,t.onOpen&&t.onOpen(this)}},n.prototype.close=function(t){var n=this;e.closePicker(function(){n.onClose(),t&&t()})},n.prototype.onClose=function(){this._open=!1,this.config.onClose&&this.config.onClose(this)},n.prototype.getHTML=function(){var e=this.config;return this.tpl({items:e.items,title:e.title,closeText:e.closeText})},e.fn.select=function(t,a){return this.each(function(){var i=e(this);i.data("weui-select")||i.data("weui-select",new n(this,t));var o=i.data("weui-select");return"string"==typeof t&&o[t].call(o,a),o})},t=e.fn.select.prototype.defaults={items:[],input:void 0,title:"请选择",multi:!1,closeText:"关闭",autoClose:!0,onChange:void 0,onClose:void 0,onOpen:void 0,split:",",toolbarTemplate:'<div class="toolbar">      <div class="toolbar-inner">      <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>      <h1 class="title">{{title}}</h1>      </div>      </div>',radioTemplate:'<div class="weui_cells weui_cells_radio">        {{#items}}        <label class="weui_cell weui_check_label" for="weui-select-id-{{this.title}}">          <div class="weui_cell_bd weui_cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui_cell_ft">            <input type="radio" class="weui_check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}">            <span class="weui_icon_checked"></span>          </div>        </label>        {{/items}}      </div>',checkboxTemplate:'<div class="weui_cells weui_cells_checkbox">        {{#items}}        <label class="weui_cell weui_check_label" for="weui-select-id-{{this.title}}">          <div class="weui_cell_bd weui_cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui_cell_ft">            <input type="checkbox" class="weui_check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}" >            <span class="weui_icon_checked"></span>          </div>        </label>        {{/items}}      </div>'}}($),+function(e){"use strict";var t,n=!1,a=function(a){function i(){var t=!1;
return p.params.convertToPopover||p.params.onlyInPopover?(!p.inline&&p.params.input&&(p.params.onlyInPopover?t=!0:e.device.ios?t=e.device.ipad?!0:!1:e(window).width()>=768&&(t=!0)),t):t}function o(){return p.opened&&p.container&&p.container.length>0&&p.container.parents(".popover").length>0?!0:!1}function r(e){e=new Date(e);var t=e.getFullYear(),n=e.getMonth(),a=n+1,i=e.getDate(),o=e.getDay();return p.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,10>a?"0"+a:a).replace(/m/g,a).replace(/MM/g,p.params.monthNames[n]).replace(/M/g,p.params.monthNamesShort[n]).replace(/dd/g,10>i?"0"+i:i).replace(/d/g,i).replace(/DD/g,p.params.dayNames[o]).replace(/D/g,p.params.dayNamesShort[o])}function s(e){if(e.preventDefault(),!p.opened&&(p.open(),p.params.scrollToInput&&!i())){var t=p.input.parents(".page-content");if(0===t.length)return;var n,a=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-a-p.container.height(),s=t[0].scrollHeight-a-p.container.height(),c=p.input.offset().top-a+p.input[0].offsetHeight;if(c>r){var l=t.scrollTop()+c-r;l+r>s&&(n=l+r-s+o,r===s&&(n=p.container.height()),t.css({"padding-bottom":n+"px"})),t.scrollTop(l,300)}}}function c(t){o()||(p.input&&p.input.length>0?t.target!==p.input[0]&&0===e(t.target).parents(".weui-picker-modal").length&&p.close():0===e(t.target).parents(".weui-picker-modal").length&&p.close())}function l(){p.opened=!1,p.input&&p.input.length>0&&p.input.parents(".page-content").css({"padding-bottom":""}),p.params.onClose&&p.params.onClose(p),p.destroyCalendarEvents()}var p=this;a=a||{};for(var d in t)"undefined"==typeof a[d]&&(a[d]=t[d]);p.params=a,p.initialized=!1,p.inline=p.params.container?!0:!1,p.isH="horizontal"===p.params.direction;var u=p.isH&&n?-1:1;return p.animating=!1,p.addValue=function(e){if(p.params.multiple){p.value||(p.value=[]);for(var t,n=0;n<p.value.length;n++)new Date(e).getTime()===new Date(p.value[n]).getTime()&&(t=n);"undefined"==typeof t?p.value.push(e):p.value.splice(t,1),p.updateValue()}else p.value=[e],p.updateValue()},p.setValue=function(e){p.value=e,p.updateValue()},p.updateValue=function(){p.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var t,n;for(t=0;t<p.value.length;t++){var a=new Date(p.value[t]);p.wrapper.find('.picker-calendar-day[data-date="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]').addClass("picker-calendar-day-selected")}if(p.params.onChange&&p.params.onChange(p,p.value,p.value.map(r)),p.input&&p.input.length>0){if(p.params.formatValue)n=p.params.formatValue(p,p.value);else{for(n=[],t=0;t<p.value.length;t++)n.push(r(p.value[t]));n=n.join(", ")}e(p.input).val(n),e(p.input).trigger("change")}},p.initCalendarEvents=function(){function t(t){if(!s&&!r){r=!0;var n=e.getTouchPosition(t);c=h=n.x,l=h=n.y,f=(new Date).getTime(),y=0,T=!0,C=void 0,v=g=p.monthsTranslate}}function a(t){if(r){var n=e.getTouchPosition(t);if(d=n.x,h=n.y,"undefined"==typeof C&&(C=!!(C||Math.abs(h-l)>Math.abs(d-c))),p.isH&&C)return void(r=!1);if(t.preventDefault(),p.animating)return void(r=!1);T=!1,s||(s=!0,w=p.wrapper[0].offsetWidth,k=p.wrapper[0].offsetHeight,p.wrapper.transition(0)),t.preventDefault(),x=p.isH?d-c:h-l,y=x/(p.isH?w:k),g=100*(p.monthsTranslate*u+y),p.wrapper.transform("translate3d("+(p.isH?g:0)+"%, "+(p.isH?0:g)+"%, 0)")}}function i(){return r&&s?(r=s=!1,m=(new Date).getTime(),300>m-f?Math.abs(x)<10?p.resetMonth():x>=10?n?p.nextMonth():p.prevMonth():n?p.prevMonth():p.nextMonth():-.5>=y?n?p.prevMonth():p.nextMonth():y>=.5?n?p.nextMonth():p.prevMonth():p.resetMonth(),void setTimeout(function(){T=!0},100)):void(r=s=!1)}function o(t){if(T){var n=e(t.target).parents(".picker-calendar-day");if(0===n.length&&e(t.target).hasClass("picker-calendar-day")&&(n=e(t.target)),0!==n.length&&(!n.hasClass("picker-calendar-day-selected")||p.params.multiple)&&!n.hasClass("picker-calendar-day-disabled")){n.hasClass("picker-calendar-day-next")&&p.nextMonth(),n.hasClass("picker-calendar-day-prev")&&p.prevMonth();var a=n.attr("data-year"),i=n.attr("data-month"),o=n.attr("data-day");p.params.onDayClick&&p.params.onDayClick(p,n[0],a,i,o),p.addValue(new Date(a,i,o).getTime()),p.params.closeOnSelect&&p.close()}}}var r,s,c,l,d,h,f,m,v,g,w,k,y,x,C,T=!0;p.container.find(".picker-calendar-prev-month").on("click",p.prevMonth),p.container.find(".picker-calendar-next-month").on("click",p.nextMonth),p.container.find(".picker-calendar-prev-year").on("click",p.prevYear),p.container.find(".picker-calendar-next-year").on("click",p.nextYear),p.wrapper.on("click",o),p.params.touchMove&&(p.wrapper.on(e.touchEvents.start,t),p.wrapper.on(e.touchEvents.move,a),p.wrapper.on(e.touchEvents.end,i)),p.container[0].f7DestroyCalendarEvents=function(){p.container.find(".picker-calendar-prev-month").off("click",p.prevMonth),p.container.find(".picker-calendar-next-month").off("click",p.nextMonth),p.container.find(".picker-calendar-prev-year").off("click",p.prevYear),p.container.find(".picker-calendar-next-year").off("click",p.nextYear),p.wrapper.off("click",o),p.params.touchMove&&(p.wrapper.off(e.touchEvents.start,t),p.wrapper.off(e.touchEvents.move,a),p.wrapper.off(e.touchEvents.end,i))}},p.destroyCalendarEvents=function(){"f7DestroyCalendarEvents"in p.container[0]&&p.container[0].f7DestroyCalendarEvents()},p.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},p.monthHTML=function(e,t){e=new Date(e);{var n=e.getFullYear(),a=e.getMonth();e.getDate()}"next"===t&&(e=11===a?new Date(n+1,0):new Date(n,a+1,1)),"prev"===t&&(e=0===a?new Date(n-1,11):new Date(n,a-1,1)),("next"===t||"prev"===t)&&(a=e.getMonth(),n=e.getFullYear());var i=p.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),o=p.daysInMonth(e),r=new Date(e.getFullYear(),e.getMonth()).getDay();0===r&&(r=7);var s,c,l,d=[],u=6,h=7,f="",m=0+(p.params.firstDay-1),v=(new Date).setHours(0,0,0,0),g=p.params.minDate?new Date(p.params.minDate).getTime():null,w=p.params.maxDate?new Date(p.params.maxDate).getTime():null;if(p.value&&p.value.length)for(c=0;c<p.value.length;c++)d.push(new Date(p.value[c]).setHours(0,0,0,0));for(c=1;u>=c;c++){var k="";for(l=1;h>=l;l++){var y=l;m++;var x=m-r,C="";0>x?(x=i+x+1,C+=" picker-calendar-day-prev",s=new Date(0>a-1?n-1:n,0>a-1?11:a-1,x).getTime()):(x+=1,x>o?(x-=o,C+=" picker-calendar-day-next",s=new Date(a+1>11?n+1:n,a+1>11?0:a+1,x).getTime()):s=new Date(n,a,x).getTime()),s===v&&(C+=" picker-calendar-day-today"),d.indexOf(s)>=0&&(C+=" picker-calendar-day-selected"),p.params.weekendDays.indexOf(y-1)>=0&&(C+=" picker-calendar-day-weekend"),(g&&g>s||w&&s>w)&&(C+=" picker-calendar-day-disabled"),s=new Date(s);var T=s.getFullYear(),_=s.getMonth();k+='<div data-year="'+T+'" data-month="'+_+'" data-day="'+x+'" class="picker-calendar-day'+C+'" data-date="'+(T+"-"+_+"-"+x)+'"><span>'+x+"</span></div>"}f+='<div class="picker-calendar-row">'+k+"</div>"}return f='<div class="picker-calendar-month" data-year="'+n+'" data-month="'+a+'">'+f+"</div>"},p.animating=!1,p.updateCurrentMonthYear=function(e){"undefined"==typeof e?(p.currentMonth=parseInt(p.months.eq(1).attr("data-month"),10),p.currentYear=parseInt(p.months.eq(1).attr("data-year"),10)):(p.currentMonth=parseInt(p.months.eq("next"===e?p.months.length-1:0).attr("data-month"),10),p.currentYear=parseInt(p.months.eq("next"===e?p.months.length-1:0).attr("data-year"),10)),p.container.find(".current-month-value").text(p.params.monthNames[p.currentMonth]),p.container.find(".current-year-value").text(p.currentYear)},p.onMonthChangeStart=function(e){p.updateCurrentMonthYear(e),p.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?p.months.length-1:0;p.months.eq(t).addClass("picker-calendar-month-current"),p.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),p.params.onMonthYearChangeStart&&p.params.onMonthYearChangeStart(p,p.currentYear,p.currentMonth)},p.onMonthChangeEnd=function(e,t){p.animating=!1;var n,a,i;p.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof e&&(e="next",t=!0),t?(p.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),a=p.monthHTML(new Date(p.currentYear,p.currentMonth),"prev"),n=p.monthHTML(new Date(p.currentYear,p.currentMonth),"next")):i=p.monthHTML(new Date(p.currentYear,p.currentMonth),e),("next"===e||t)&&p.wrapper.append(i||n),("prev"===e||t)&&p.wrapper.prepend(i||a),p.months=p.wrapper.find(".picker-calendar-month"),p.setMonthsTranslate(p.monthsTranslate),p.params.onMonthAdd&&p.params.onMonthAdd(p,"next"===e?p.months.eq(p.months.length-1)[0]:p.months.eq(0)[0]),p.params.onMonthYearChangeEnd&&p.params.onMonthYearChangeEnd(p,p.currentYear,p.currentMonth)},p.setMonthsTranslate=function(e){e=e||p.monthsTranslate||0,"undefined"==typeof p.monthsTranslate&&(p.monthsTranslate=e),p.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*u,n=100*-e*u,a=100*-(e-1)*u;p.months.eq(0).transform("translate3d("+(p.isH?t:0)+"%, "+(p.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),p.months.eq(1).transform("translate3d("+(p.isH?n:0)+"%, "+(p.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),p.months.eq(2).transform("translate3d("+(p.isH?a:0)+"%, "+(p.isH?0:a)+"%, 0)").addClass("picker-calendar-month-next")},p.nextMonth=function(t){("undefined"==typeof t||"object"==typeof t)&&(t="",p.params.animate||(t=0));var n=parseInt(p.months.eq(p.months.length-1).attr("data-month"),10),a=parseInt(p.months.eq(p.months.length-1).attr("data-year"),10),i=new Date(a,n),o=i.getTime(),r=p.animating?!1:!0;if(p.params.maxDate&&o>new Date(p.params.maxDate).getTime())return p.resetMonth();if(p.monthsTranslate--,n===p.currentMonth){var s=100*-p.monthsTranslate*u,c=e(p.monthHTML(o,"next")).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next");p.wrapper.append(c[0]),p.months=p.wrapper.find(".picker-calendar-month"),p.params.onMonthAdd&&p.params.onMonthAdd(p,p.months.eq(p.months.length-1)[0])}p.animating=!0,p.onMonthChangeStart("next");var l=100*p.monthsTranslate*u;p.wrapper.transition(t).transform("translate3d("+(p.isH?l:0)+"%, "+(p.isH?0:l)+"%, 0)"),r&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd("next")}),p.params.animate||p.onMonthChangeEnd("next")},p.prevMonth=function(t){("undefined"==typeof t||"object"==typeof t)&&(t="",p.params.animate||(t=0));var n=parseInt(p.months.eq(0).attr("data-month"),10),a=parseInt(p.months.eq(0).attr("data-year"),10),i=new Date(a,n+1,-1),o=i.getTime(),r=p.animating?!1:!0;if(p.params.minDate&&o<new Date(p.params.minDate).getTime())return p.resetMonth();if(p.monthsTranslate++,n===p.currentMonth){var s=100*-p.monthsTranslate*u,c=e(p.monthHTML(o,"prev")).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev");p.wrapper.prepend(c[0]),p.months=p.wrapper.find(".picker-calendar-month"),p.params.onMonthAdd&&p.params.onMonthAdd(p,p.months.eq(0)[0])}p.animating=!0,p.onMonthChangeStart("prev");var l=100*p.monthsTranslate*u;p.wrapper.transition(t).transform("translate3d("+(p.isH?l:0)+"%, "+(p.isH?0:l)+"%, 0)"),r&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd("prev")}),p.params.animate||p.onMonthChangeEnd("prev")},p.resetMonth=function(e){"undefined"==typeof e&&(e="");var t=100*p.monthsTranslate*u;p.wrapper.transition(e).transform("translate3d("+(p.isH?t:0)+"%, "+(p.isH?0:t)+"%, 0)")},p.setYearMonth=function(e,t,n){"undefined"==typeof e&&(e=p.currentYear),"undefined"==typeof t&&(t=p.currentMonth),("undefined"==typeof n||"object"==typeof n)&&(n="",p.params.animate||(n=0));var a;if(a=e<p.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),p.params.maxDate&&a>new Date(p.params.maxDate).getTime())return!1;if(p.params.minDate&&a<new Date(p.params.minDate).getTime())return!1;var i=new Date(p.currentYear,p.currentMonth).getTime(),o=a>i?"next":"prev",r=p.monthHTML(new Date(e,t));p.monthsTranslate=p.monthsTranslate||0;var s,c,l=p.monthsTranslate,d=p.animating?!1:!0;a>i?(p.monthsTranslate--,p.animating||p.months.eq(p.months.length-1).remove(),p.wrapper.append(r),p.months=p.wrapper.find(".picker-calendar-month"),s=100*-(l-1)*u,p.months.eq(p.months.length-1).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next")):(p.monthsTranslate++,p.animating||p.months.eq(0).remove(),p.wrapper.prepend(r),p.months=p.wrapper.find(".picker-calendar-month"),s=100*-(l+1)*u,p.months.eq(0).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev")),p.params.onMonthAdd&&p.params.onMonthAdd(p,"next"===o?p.months.eq(p.months.length-1)[0]:p.months.eq(0)[0]),p.animating=!0,p.onMonthChangeStart(o),c=100*p.monthsTranslate*u,p.wrapper.transition(n).transform("translate3d("+(p.isH?c:0)+"%, "+(p.isH?0:c)+"%, 0)"),d&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd(o,!0)}),p.params.animate||p.onMonthChangeEnd(o)},p.nextYear=function(){p.setYearMonth(p.currentYear+1)},p.prevYear=function(){p.setYearMonth(p.currentYear-1)},p.layout=function(){var e,t="",n="",a=p.value&&p.value.length?p.value[0]:(new Date).setHours(0,0,0,0),i=p.monthHTML(a,"prev"),o=p.monthHTML(a),r=p.monthHTML(a,"next"),s='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(i+o+r)+"</div></div>",c="";if(p.params.weekHeader){for(e=0;7>e;e++){var l=e+p.params.firstDay>6?e-7+p.params.firstDay:e+p.params.firstDay,d=p.params.dayNamesShort[l];c+='<div class="picker-calendar-week-day '+(p.params.weekendDays.indexOf(l)>=0?"picker-calendar-week-day-weekend":"")+'"> '+d+"</div>"}c='<div class="picker-calendar-week-days">'+c+"</div>"}n="weui-picker-modal weui-picker-calendar "+(p.params.cssClass||"");var u=p.params.toolbar?p.params.toolbarTemplate.replace(/{{closeText}}/g,p.params.toolbarCloseText):"";p.params.toolbar&&(u=p.params.toolbarTemplate.replace(/{{closeText}}/g,p.params.toolbarCloseText).replace(/{{monthPicker}}/g,p.params.monthPicker?p.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,p.params.yearPicker?p.params.yearPickerTemplate:"")),t='<div class="'+n+'">'+u+'<div class="picker-modal-inner">'+c+s+"</div></div>",p.pickerHTML=t},p.params.input&&(p.input=e(p.params.input),p.input.length>0&&(p.params.inputReadOnly&&p.input.prop("readOnly",!0),p.inline||p.input.on("click",s),p.params.inputReadOnly&&p.input.on("focus mousedown",function(e){e.preventDefault()}))),p.inline||e(document).on("click touchend",c),p.opened=!1,p.open=function(){var t=i()&&!1,n=!1;p.opened||(p.value||p.params.value&&(p.value=p.params.value,n=!0),p.layout(),t?(p.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+p.pickerHTML+"</div></div>",p.popover=e.popover(p.pickerHTML,p.params.input,!0),p.container=e(p.popover).find(".weui-picker-modal"),e(p.popover).on("close",function(){l()})):p.inline?(p.container=e(p.pickerHTML),p.container.addClass("picker-modal-inline"),e(p.params.container).append(p.container)):(p.container=e(e.openPicker(p.pickerHTML)),e(p.container).on("close",function(){l()})),p.container[0].f7Calendar=p,p.wrapper=p.container.find(".picker-calendar-months-wrapper"),p.months=p.wrapper.find(".picker-calendar-month"),p.updateCurrentMonthYear(),p.monthsTranslate=0,p.setMonthsTranslate(),p.initCalendarEvents(),n&&p.updateValue()),p.opened=!0,p.initialized=!0,p.params.onMonthAdd&&p.months.each(function(){p.params.onMonthAdd(p,this)}),p.params.onOpen&&p.params.onOpen(p)},p.close=function(){return p.opened&&!p.inline?(p.animating=!1,o()?void e.closePicker(p.popover):void e.closePicker(p.container)):void 0},p.destroy=function(){p.close(),p.params.input&&p.input.length>0&&(p.input.off("click focus",s),p.input.data("calendar",null)),e("html").off("click",c)},p.inline&&p.open(),p},i=function(e){return 10>e?"0"+e:e};e.fn.calendar=function(t,n){return t=t||{},this.each(function(){var o=e(this);if(o[0]){var r={};"INPUT"===o[0].tagName.toUpperCase()?r.input=o:r.container=o;var s=o.data("calendar");if(!s)if("string"==typeof t)s=new a(e.extend(r,t));else{if(!t.value){var c=new Date;t.value=[c.getFullYear()+"-"+i(c.getMonth()+1)+"-"+i(c.getDate())]}s=o.data("calendar",new a(e.extend(r,t)))}"string"==typeof t&&s[t].call(s,n)}})},t=e.fn.calendar.prototype.defaults={monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="javascript:;" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="javascript:;" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{yearPicker}}{{monthPicker}}</div></div>'}}($),+function(e){"use strict";e.openPopup=function(t){e.closePopup(),t=e(t),t.addClass("weui-popup-container-visible");var n=t.find(".weui-popup-modal");n.width(),n.addClass("weui-popup-modal-visible")},e.closePopup=function(t,n){e(".weui-popup-modal-visible").removeClass("weui-popup-modal-visible").transitionEnd(function(){e(this).parent().removeClass("weui-popup-container-visible"),n&&e(this).parent().remove()}).trigger("close")},e(document).on("click",".close-popup",function(){e.closePopup()}),e(document).on("click",".open-popup",function(){e(e(this).data("target")).popup()}),e.fn.popup=function(){return this.each(function(){e.openPopup(this)})}}($),+function(e){"use strict";var t,n,a,i,o,r,s=function(n){var a=e.getTouchPosition(n);i=a,o=r=0,t.addClass("touching")},c=function(n){if(!i)return!1;n.preventDefault(),n.stopPropagation();var a=e.getTouchPosition(n);o=a.x-i.x,r=a.y-i.y,r>0&&(r=Math.sqrt(r)),t.css("transform","translate3d(0, "+r+"px, 0)")},l=function(){t.removeClass("touching"),t.attr("style",""),0>r&&Math.abs(r)>.38*t.height()&&e.closeNotification(),Math.abs(o)<=1&&Math.abs(r)<=1&&t.trigger("noti-click"),i=!1},p=function(t){t.on(e.touchEvents.start,s),t.on(e.touchEvents.move,c),t.on(e.touchEvents.end,l)};e.notification=e.noti=function(i){i=e.extend({},n,i),t=e(".notification"),t[0]||(t=e('<div class="notification"></div>').appendTo(document.body),p(t)),t.off("noti-click"),i.onClick&&t.on("noti-click",function(){i.onClick(i.data)}),t.html(e.t7.compile(i.tpl)(i)),t.show(),t.addClass("notification-in"),t.data("params",i);var o=function(){a&&(clearTimeout(a),a=null),a=setTimeout(function(){t.hasClass("touching")?o():e.closeNotification()},i.time)};o()},e.closeNotification=function(){a&&clearTimeout(a),a=null;var t=e(".notification").removeClass("notification-in").transitionEnd(function(){e(this).remove()});if(t[0]){var n=e(".notification").data("params");n&&n.onClose&&n.onClose(n.data)}},n=e.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="notification-inner">{{#if media}}<div class="notification-media">{{media}}</div>{{/if}}<div class="notification-content">{{#if title}}<div class="notification-title">{{title}}</div>{{/if}}{{#if text}}<div class="notification-text">{{text}}</div>{{/if}}</div><div class="notification-handle-bar"></div></div>'}}($),+function(e){var t,n=function(e){this.initConfig(e),this.index=0};n.prototype.initConfig=function(n){this.config=e.extend({},t,n),this.config.items=this.config.items.map(function(e){return"string"==typeof e?{image:e,caption:""}:e}),this.tpl=e.t7.compile(this.config.tpl),this.config.autoOpen&&this.open()},n.prototype.getHTML=function(){return this.tpl(this.config)},n.prototype.open=function(){if(this._open)return!1;this.modal||(this.modal=e(this.getHTML()).appendTo(document.body),this.swiperContainer=this.modal.find(".swiper-container"),this.modal.click(e.proxy(function(){this.close()},this)));var t=this.swiperContainer;this.modal.show(),this.modal.height(),this.modal.addClass("weui-photo-browser-modal-visible"),t.transitionEnd(e.proxy(function(){t.swiper({onSlideChangeEnd:e.proxy(this.onSlideChangeEnd,this)}),this.onSlideChangeEnd(t.data("swiper"))},this)),t.addClass("swiper-container-visible"),this._open=!0,this.config.onOpen&&this.config.onOpen.call(this)},n.prototype.close=function(){this.swiperContainer.transitionEnd(e.proxy(function(){this.modal.hide(),this._open=!1,this.config.onClose&&this.config.onClose.call(this)},this)),this.swiperContainer.removeClass("swiper-container-visible"),this.modal.removeClass("weui-photo-browser-modal-visible")},n.prototype.onSlideChangeEnd=function(e){var t=this.index=e.snapIndex,n=e.container.find(".caption-item-"+t);if(!n.hasClass("active")){var a=e.container.find(".caption-item.active").transitionEnd(function(){a.hide(),n.show().addClass("active")});a.removeClass("active"),a[0]||n.show().addClass("active"),this.config.onSlideChange&&this.config.onSlideChange.call(this,t)}},t=n.prototype.defaults={items:[],autoOpen:!1,onOpen:void 0,onClose:void 0,tpl:'<div class="weui-photo-browser-modal">            <div class="swiper-container">              <div class="swiper-wrapper">                {{#items}}                <div class="swiper-slide">                  <div class="photo-container">                    <img src="{{image}}" />                  </div>                </div>                {{/items}}              </div>              <div class="caption">                {{#items}}                <div class="caption-item caption-item-{{@index}}">{{caption}}</div>                {{/items}}              </div>              <div class="swiper-pagination"></div>            </div>          </div>'},e.photoBrowser=function(e){return new n(e)}}($);